[tox]
envlist = begin,py{39},end

[testenv]
deps =
    coverage
    pytest
    {toxinidir}
setenv = PYTHONPATH = {toxinidir}/test

[testenv:begin]
commands = coverage erase

[testenv:py39]
commands =
    coverage run -m pytest -s test -vv {posargs}

[testenv:end]
commands =
    coverage report --omit='.tox/*,test/*'
    coverage xml --omit='.tox/*,test/*'

[testenv:report]
commands =
    coverage html --omit='.tox/*,test/*'
